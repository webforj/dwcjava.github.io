"use strict";(self.webpackChunkdwcj_documentation=self.webpackChunkdwcj_documentation||[]).push([[8412],{957:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=t(4848),i=t(8453);const r={sidebar_position:3,title:"Navigation Blocking"},a=void 0,s={id:"routing/navigation-lifecycle/navigation-blocking",title:"Navigation Blocking",description:"Navigation blocking adds one or more layers of control to the entire underlying router API. If any blocking handlers are present, navigation will be prevented as follows:",source:"@site/docs/routing/navigation-lifecycle/navigation-blocking.md",sourceDirName:"routing/navigation-lifecycle",slug:"/routing/navigation-lifecycle/navigation-blocking",permalink:"/docs/routing/navigation-lifecycle/navigation-blocking",draft:!1,unlisted:!1,editUrl:"https://github.com/webforj/webforj-docs/tree/website/docs/routing/navigation-lifecycle/navigation-blocking.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Navigation Blocking"},sidebar:"documentationSidebar",previous:{title:"Lifecycle Observers",permalink:"/docs/routing/navigation-lifecycle/observers"},next:{title:"Navigation Events",permalink:"/docs/routing/navigation-lifecycle/navigation-events"}},c={},l=[{value:"Browser back button?",id:"browser-back-button",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Navigation blocking adds one or more layers of control to the entire underlying router API. If any blocking handlers are present, navigation will be prevented as follows:"}),"\n",(0,o.jsxs)(n.p,{children:["If the navigation is triggered by something controlled at the router level, you can perform any task or show a UI prompt to the user to confirm the action. Each component implementing the ",(0,o.jsx)(n.code,{children:"WillLeaveObserver"})," in the ",(0,o.jsx)(n.a,{href:"../route-hierarchy/overview",children:"route tree"})," will be called. The implementer must invoke ",(0,o.jsx)(n.code,{children:"accept"})," to continue the navigation or ",(0,o.jsx)(n.code,{children:"reject"})," to block it. If multiple components implement the ",(0,o.jsx)(n.code,{children:"WillLeaveObserver"})," in the route's tree, the veto handlers will be executed sequentially in the reverse order"]}),"\n",(0,o.jsx)(n.admonition,{title:"Practical Example of Veto Handling",type:"info",children:(0,o.jsxs)(n.p,{children:["To see how vetoing works in practice, refer to the ",(0,o.jsx)(n.a,{href:"observers#example-handling-unsaved-changes-with-willleaveobserver",children:"Using Lifecycle Observers examples"})]})}),"\n",(0,o.jsxs)(n.p,{children:["For page events that can't be controlled directly, the router doesn't interfere or enforce a specific behavior. However, developers can still listen to the ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event",children:(0,o.jsx)(n.code,{children:"beforeunload"})})," event to make a final attempt at warning the user about unsaved data if necessary."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'PageEventOptions options = new PageEventOptions();\noptions.setCode(""" \n  event.preventDefault();\n  return true;\n  """);\nPage.getCurrent().addEventListener("beforeunload", e -> {}, options);\n'})}),"\n",(0,o.jsx)(n.h2,{id:"browser-back-button",children:"Browser back button?"}),"\n",(0,o.jsxs)(n.p,{children:["The back button operates outside the control of web applications, making it difficult to intercept or prevent its action across all browsers consistently. Instead of trying to block the back button, it's more effective to design your UI/UX in a way that mitigates the impact. Consider strategies like saving unsaved data in ",(0,o.jsx)(n.a,{href:"../../advanced/web-storage#session-storage",children:"session storage"}),", so if a user navigates away and returns, their progress is safely restored. This approach ensures data protection without relying on unreliable browser behavior."]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var o=t(6540);const i={},r=o.createContext(i);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);