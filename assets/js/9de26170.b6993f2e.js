"use strict";(self.webpackChunkdwcj_documentation=self.webpackChunkdwcj_documentation||[]).push([[5947],{8805:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>n,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>r});var o=t(4848),l=t(8453);const s={sidebar_position:6,title:"File Upload"},n="File Upload Dialog",a={id:"components/option-dialogs/file-upload",title:"File Upload",description:"A FileUploadDialog is a modal dialog designed to allow the user to upload files from their local file system. The dialog blocks app execution until the user selects files to upload or closes the dialog.",source:"@site/docs/components/option-dialogs/file-upload.md",sourceDirName:"components/option-dialogs",slug:"/components/option-dialogs/file-upload",permalink:"/docs/components/option-dialogs/file-upload",draft:!1,unlisted:!1,editUrl:"https://github.com/webforj/webforj-docs/tree/website/docs/components/option-dialogs/file-upload.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"File Upload"},sidebar:"documentationSidebar",previous:{title:"File Chooser",permalink:"/docs/components/option-dialogs/file-chooser"},next:{title:"Table",permalink:"/docs/components/table/"}},d={},r=[{value:"Usages",id:"usages",level:2},{value:"Result",id:"result",level:2},{value:"Moving uploaded files",id:"moving-uploaded-files",level:3},{value:"Filters",id:"filters",level:2},{value:"Max size",id:"max-size",level:2},{value:"Internationalization (i18n)",id:"internationalization-i18n",level:2},{value:"Best practices",id:"best-practices",level:2},{value:"Styling",id:"styling",level:2},{value:"Shadow Parts",id:"shadow-parts",level:3},{value:"Reflected Attributes",id:"reflected-attributes",level:3}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components},{ComponentDemo:s,DocChip:n,JavadocLink:a,TableBuilder:d}=i;return s||p("ComponentDemo",!0),n||p("DocChip",!0),a||p("JavadocLink",!0),d||p("TableBuilder",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h1,{id:"file-upload-dialog",children:"File Upload Dialog"}),"\n",(0,o.jsx)(n,{tooltipText:"This component will render with a shadow DOM, an API built into the browser that facilitates encapsulation.",label:"Shadow",target:"_blank",clickable:!1,iconName:"shadow"}),"\n",(0,o.jsx)(n,{tooltipText:"The name of the web component that will render in the DOM.",label:"dwc-dialog",clickable:!1,iconName:"code"}),"\n",(0,o.jsx)(a,{type:"foundation",location:"com/webforj/component/optiondialog/FileUploadDialog",top:"true"}),"\n",(0,o.jsxs)(i.p,{children:["A ",(0,o.jsx)(i.code,{children:"FileUploadDialog"})," is a modal dialog designed to allow the user to upload files from their local file system. The dialog blocks app execution until the user selects files to upload or closes the dialog."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-java",children:'UploadedFile result = OptionDialog.showFileUploadDialog("Upload a file");\n'})}),"\n",(0,o.jsx)(i.h2,{id:"usages",children:"Usages"}),"\n",(0,o.jsxs)(i.p,{children:["The ",(0,o.jsx)(i.code,{children:"FileUploadDialog"})," provides a way to select and upload files, enabling users to submit documents, images, or other file types required by the app."]}),"\n",(0,o.jsx)(i.h2,{id:"result",children:"Result"}),"\n",(0,o.jsxs)(i.p,{children:["The ",(0,o.jsx)(i.code,{children:"FileUploadDialog"})," returns an ",(0,o.jsx)(i.code,{children:"UploadedFile"})," object that contains information about the uploaded file, such as its name, size, and content. If the user closes the dialog without selecting a file, the result will be ",(0,o.jsx)(i.code,{children:"null"}),"."]}),"\n",(0,o.jsx)(i.admonition,{type:"important",children:(0,o.jsxs)(i.p,{children:["The resulting string will be returned from the ",(0,o.jsx)(i.code,{children:"show()"})," method, or the equivalent ",(0,o.jsx)(i.code,{children:"OptionDialog"})," method as shown below."]})}),"\n",(0,o.jsx)(s,{path:"https://demo.webforj.com/webapp/controlsamples/fileuploaddialogbasic?",javaE:"https://raw.githubusercontent.com/webforj/webforj-docs-samples/refs/heads/main/src/main/java/com/webforj/samples/views/optiondialog/fileupload/FileUploadDialogBasicView.java",height:"400px"}),"\n",(0,o.jsx)(i.h3,{id:"moving-uploaded-files",children:"Moving uploaded files"}),"\n",(0,o.jsxs)(i.p,{children:["By default, webforJ stores uploaded files in a temporary folder which is regularly cleaned. If you don't move file elsewhere, it'll be deleted. To move the file, use the ",(0,o.jsx)(i.code,{children:"move"})," method and specify the destination path."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-java",metastring:"showLineNumbers",children:'UploadedFile uploadedFile = OptionDialog.showFileUploadDialog("Select a file to upload");\ntry {\n    File file = uploadedFile.move("my/full/path/" + uploadedFile.getSanitizedClientName());\n    // ... do something with the file\n} catch (IOException e) {\n    // handle the exception\n}\n'})}),"\n",(0,o.jsx)(i.admonition,{title:"Sanitized Client Name",type:"tip",children:(0,o.jsxs)(i.p,{children:["Use the ",(0,o.jsx)(i.code,{children:"getSanitizedClientName"})," method to obtain a sanitized version of the uploaded file's name. This method helps prevent security risks such as directory traversal attacks or invalid characters in file names, ensuring the integrity and security of your file storage system."]})}),"\n",(0,o.jsx)(i.h2,{id:"filters",children:"Filters"}),"\n",(0,o.jsxs)(i.p,{children:["The ",(0,o.jsx)(i.code,{children:"FileUploadDialog"})," allows you to set filters to limit the types of files that can be selected for upload. You can configure filters using the ",(0,o.jsx)(i.code,{children:"setFilters(List<FileChooserFilter> filters)"})," method."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-java",metastring:"showLineNumbers",children:'FileUploadDialog dialog = new FileUploadDialog(\n    "Upload a file", \n    Arrays.asList(new FileChooserFilter("Text Files", "*.txt")));\nUploadedFile result = dialog.show();\n'})}),"\n",(0,o.jsx)(i.admonition,{title:"Filters Validation",type:"warning",children:(0,o.jsx)(i.p,{children:"The server won't validate the uploaded file against the filters. The filters are only applied in the UI to guide the user's selection. You must implement server-side validation to ensure that the uploaded files meet your app's requirements."})}),"\n",(0,o.jsx)(i.h2,{id:"max-size",children:"Max size"}),"\n",(0,o.jsxs)(i.p,{children:["It's possible to set the maximum file size for uploads to ensure that users don't upload files that are too large for your app to handle. This can be configured using the ",(0,o.jsx)(i.code,{children:"setMaxFileSize(long maxSize)"})," method, where maxSize is specified in bytes."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-java",children:"dialog.setMaxFileSize(2 * 1024 * 1024); // Set max size to 2 MB\n"})}),"\n",(0,o.jsx)(i.h2,{id:"internationalization-i18n",children:"Internationalization (i18n)"}),"\n",(0,o.jsxs)(i.p,{children:["The titles, descriptions, labels, and messages within the component are fully customizable using the ",(0,o.jsx)(i.code,{children:"FileUploadI18n"})," class. This flexibility allows you to tailor the dialog interface to meet specific localization requirements or personalization preferences."]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-java",metastring:"showLineNumbers",children:'FileUploadDialog dialog = new FileUploadDialog("Datei hochladen");\nFileUploadI18n i18n = new FileUploadI18n();\ni18n.setUpload("Hochladen");\ni18n.setCancel("Stornieren");\ndialog.setI18n(i18n);\nUploadedFile result = dialog.show();\n'})}),"\n",(0,o.jsx)(i.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Clear and Concise Prompts"}),": Ensure the prompt message clearly explains what the user is being asked to upload."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Appropriate Filters"}),": Set file filters that match the required file types to ensure users upload relevant files."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Logical Initial Paths"}),": Set initial paths that provide users with a useful starting point for their file selection."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Restrict Directory Navigation"}),": Restrict the dialog to a specific directory when necessary to prevent users from navigating to unauthorized areas."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Consistent Theming"}),": Align the dialog and upload field themes with your app's design for a cohesive user experience."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Minimize Overuse"}),": Use file upload dialogs sparingly to avoid user frustration. Reserve them for actions requiring specific user file uploads."]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"styling",children:"Styling"}),"\n",(0,o.jsx)(i.h3,{id:"shadow-parts",children:"Shadow Parts"}),"\n",(0,o.jsxs)(i.p,{children:["These are the various parts of the ",(0,o.jsx)(i.a,{href:"../../glossary#shadow-dom",children:"shadow DOM"})," for the component, which will be required when styling via CSS is desired."]}),"\n",(0,o.jsx)(d,{tag:t(7813).lG,table:"parts"}),"\n",(0,o.jsx)(i.h3,{id:"reflected-attributes",children:"Reflected Attributes"}),"\n",(0,o.jsx)(i.p,{children:"The reflected attributes of a component will be shown as attributes in the rendered HTML element for the component in the DOM. This means that styling can be applied using these attributes."}),"\n",(0,o.jsx)(d,{tag:t(7813).lG,table:"reflects"})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}function p(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,i,t)=>{t.d(i,{R:()=>n,x:()=>a});var o=t(6540);const l={},s=o.createContext(l);function n(e){const i=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:n(e.components),o.createElement(s.Provider,{value:i},e.children)}},7813:e=>{e.exports=JSON.parse('{"e7":"dwc-app-layout","$n":"dwc-button","Sc":"dwc-checkbox","D0":"dwc-field","Ap":"dwc-slider","qF":"dwc-listbox","tX":"dwc-choicebox","a3":"dwc-combobox","mD":"dwc-navigator","z2":"dwc-progressbar","a":"dwc-radio","TN":"dwc-tabbed-pane","_s":"dwc-drawer","lG":"dwc-dialog","In":"dwc-icon","O3":"dwc-splitter","az":"dwc-login","y$":"dwc-spinner","Rh":"dwc-loading","bJ":"dwc-loading"}')}}]);